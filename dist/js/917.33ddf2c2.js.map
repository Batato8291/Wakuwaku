{"version":3,"file":"js/917.33ddf2c2.js","mappings":"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","sources":["webpack://wakuwaku/./src/mixins/modalMixin.js","webpack://wakuwaku/./src/views/forestage/UserCart.vue","webpack://wakuwaku/./src/components/DelModalFore.vue","webpack://wakuwaku/./src/components/DelModalFore.vue?8f7d","webpack://wakuwaku/./src/views/forestage/UserCart.vue?cb9b"],"sourcesContent":["import Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  methods: {\n    showModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal);\n  },\n};\n","<template>\n  <div class=\"container p-0\">\n    <div class=\"cart-list\">\n      <div>\n        <p class=\"fs-1 fw-bold text-center\" style=\"color: #faa11f\">\n          購物車清單\n        </p>\n        <div class=\"col-12 col-lg-10 mx-lg-auto\">\n          <ul class=\"multi-steps\">\n            <li class=\"active\" id=\"progressbar_cart\"><span>購物車</span></li>\n            <li id=\"progressbar_order\"><span>訂單資料</span></li>\n            <li id=\"progressbar_check\"><span>確認訂單</span></li>\n            <li id=\"progressbar_done\"><span>完成訂單</span></li>\n          </ul>\n        </div>\n      </div>\n      <div\n        class=\"d-md-none\"\n        style=\"min-height: 0.5rem; background-color: rgba(255, 173, 59, 0.856)\"\n      ></div>\n      <div class=\"list-table-title d-none d-md-flex\">\n        <div class=\"col-1\">選取</div>\n        <div class=\"col-2\">商品圖片</div>\n        <div class=\"mx-2 col-8 flex-row\">\n          <div class=\"col-md-4\">商品名稱</div>\n          <div class=\"col-md-3 col-lg-2\">價格</div>\n          <div class=\"col-md-5 col-lg-4\">數量</div>\n          <div class=\"col-lg-2 d-none d-lg-flex\"></div>\n        </div>\n      </div>\n      <hr class=\"my-1\" style=\"border-width: 3px\" />\n      <!-- list item -->\n      <div class=\"item_box\" v-for=\"cart in carts\" :key=\"cart.id\">\n        <div class=\"item_content align-item-center py-2\">\n          <div class=\"d-flex\">\n            <div class=\"col-1 item-check\">\n              <input\n                class=\"form-check-input select-btn cart_item_checkbox\"\n                type=\"checkbox\"\n                :value=\"cart.id\"\n                v-model=\"checkedItems\"\n              />\n            </div>\n            <div class=\"item-img col-3 col-md-2\">\n              <div>\n                <img :src=\"cart.product.images[0]\" alt=\"\" />\n              </div>\n            </div>\n            <div class=\"col-8 item-info mx-2\">\n              <p class=\"mt-2 mb-0 me-2 col-md-4\">{{ cart.product.title }}</p>\n              <div class=\"item-price my-2 px-2 col-md-3 col-lg-2\">\n                <div class=\"text-danger\">\n                  ${{ cart.total }}&ensp;<span\n                    class=\"text-decoration-line-through text-secondary me-2\"\n                    v-if=\"cart.product.origin_price > cart.product.price\"\n                    >${{ cart.product.origin_price * cart.qty }}</span\n                  >\n                </div>\n              </div>\n\n              <div class=\"counter-group col-md-5 col-lg-4\">\n                <button\n                  class=\"\"\n                  @click=\"updateCart(cart, -1)\"\n                  :disabled=\"status.loadingItem === cart.id\"\n                >\n                  <i class=\"bi bi-dash\"></i>\n                </button>\n                <input\n                  type=\"number\"\n                  class=\"qty-input\"\n                  min=\"1\"\n                  @change=\"updateCart(cart)\"\n                  v-model.number=\"cart.qty\"\n                  :disabled=\"status.loadingItem === cart.id\"\n                />\n                <button\n                  class=\"\"\n                  @click=\"updateCart(cart, +1)\"\n                  :disabled=\"status.loadingItem === cart.id\"\n                >\n                  <i class=\"bi bi-plus\"></i>\n                </button>\n              </div>\n\n              <div class=\"del-btn col-lg-2\">\n                <router-link to=\"\" @click=\"openDelModal(cart)\"\n                  >刪除</router-link\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- remove -->\n        <div class=\"item_del my-2\" @click=\"openDelModal(cart)\">刪除</div>\n      </div>\n      <!--when nothing -->\n      <div\n        v-if=\"carts.length === 0\"\n        class=\"d-flex align-item-center flex-column\"\n      >\n        <div\n          class=\"lg-list-item p-2 mt-3 fs-2 fw-bold text-center\"\n          style=\"color: gray\"\n        >\n          購物車沒有商品 . . .\n        </div>\n        <div class=\"d-flex justify-content-center mt-3 mb-5\">\n          <router-link\n            class=\"btn text-white fw-semibold shadow-none\"\n            to=\"/search?search=&category=all\"\n            style=\"background-color: rgb(251 164 59)\"\n          >\n            前往商店 <i class=\"bi bi-arrow-bar-right\"></i>\n          </router-link>\n        </div>\n      </div>\n    </div>\n    <!-- cart footer -->\n    <div class=\"cart-footer\">\n      <div class=\"footer-item check_out p-2\">\n        <div class=\"ms-1 align-items-center d-flex\">\n          <input\n            class=\"form-check-input select-btn\"\n            type=\"checkbox\"\n            name=\"select_all\"\n            id=\"select_all\"\n            v-model=\"checkedAll\"\n            @click=\"selectAll()\"\n          />\n          <label class=\"ms-2 d-flex me-2\" for=\"select_all\"\n            >全選 ({{ carts.length }})</label\n          >\n        </div>\n\n        <div class=\"ms-auto me-3\">\n          <p class=\"mb-0\">\n            小計: <span class=\"ms-2 text-danger fs-5\">${{ totalAmount }}</span>\n          </p>\n        </div>\n\n        <button\n          class=\"btn btn-danger\"\n          :disabled=\"totalAmount == 0\"\n          @click=\"toOrder\"\n        >\n          結帳\n        </button>\n      </div>\n    </div>\n  </div>\n  <DelModal\n    ref=\"delModal\"\n    :item-title=\"tempCart.product.title\"\n    :item-id=\"tempCart.id\"\n    @delete-item=\"deleteCart(tempCart.id)\"\n  ></DelModal>\n</template>\n<style lang=\"scss\" scoped>\n.cart-list {\n  background-color: white;\n  overflow: hidden;\n  .item_box {\n    position: relative;\n    align-items: stretch;\n    box-shadow: 0 4px rgba(104, 104, 104, 0.219);\n    overflow: hidden;\n    width: 118%;\n    display: block;\n    transition: all 0.2s linear;\n    .item_content {\n      flex-shrink: 0;\n      width: 85%;\n\n      .item-check {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      .item-img {\n        justify-content: center;\n        display: flex;\n        div {\n          overflow: hidden;\n          width: 5rem;\n          img {\n            width: 100%;\n          }\n        }\n      }\n      .item-info {\n        display: flex;\n        flex-direction: column;\n        .counter-group {\n          display: flex;\n\n          button {\n            border: 1px solid gray;\n            background-color: white;\n          }\n          input {\n            border-width: 1px 0px;\n            border-color: gray;\n            text-align: center;\n            width: 5rem;\n            box-sizing: border-box;\n\n            margin: 0;\n            &:focus {\n              outline: none;\n            }\n            &::-webkit-outer-spin-button,\n            &::-webkit-inner-spin-button {\n              -webkit-appearance: none;\n              margin: 0;\n            }\n            &[type='number'] {\n              -moz-appearance: textfield;\n            }\n          }\n        }\n      }\n      .del-btn {\n        display: none;\n      }\n    }\n    .item_del {\n      position: absolute;\n      inset: 0 0 auto auto;\n\n      width: 15%;\n      height: calc(100% - 1rem);\n      background-color: red;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: white;\n      font-weight: 800;\n    }\n  }\n  .swipeleft {\n    transform: translateX(-15%);\n  }\n}\n.list-table-title {\n  background-color: rgba(255, 173, 59, 0.856);\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem 0;\n  div {\n    display: flex;\n    justify-content: center;\n  }\n}\n.cart-footer {\n  width: 100%;\n  background-color: rgba(255, 252, 248, 0.973);\n  position: sticky;\n  bottom: 0px;\n  box-shadow: 0 0 6px 0px rgba(0, 0, 0, 0.1);\n  .footer-item {\n    border-top: 1px solid rgba(0, 0, 0, 0.24);\n  }\n  .check_out {\n    display: flex;\n    align-items: center;\n  }\n}\n.select-btn {\n  &:focus {\n    border-color: orange;\n    box-shadow: 0 0 0 0.25rem rgba(248, 180, 33, 0.253);\n  }\n  &:checked {\n    background-color: orange;\n    border-color: orange;\n  }\n}\n\n@media screen and (min-width: 768px) {\n  .cart-list .item_box .item_content .item-info {\n    flex-direction: row;\n    align-items: center;\n\n    div,\n    p {\n      display: flex;\n      justify-content: center;\n      &.del-btn {\n        display: none;\n      }\n    }\n  }\n  .del-btn {\n    a {\n      text-decoration: none;\n      color: rgb(236, 154, 2);\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n}\n@media screen and (min-width: 992px) {\n  .cart-list .item_box .item_content .item-info {\n    .del-btn {\n      display: flex !important;\n    }\n  }\n}\n</style>\n<script>\nimport DelModal from '@/components/DelModalFore.vue';\n\nexport default {\n  data() {\n    return {\n      carts: [],\n      tempCart: {\n        product: {\n          title: '',\n        },\n        id: '',\n      },\n      status: {\n        loadingItem: '',\n      },\n      checkedItems: [],\n      unCheckItems: [],\n      checkedAll: false,\n      coupon_code: '',\n      isCoupon: false,\n    };\n  },\n  components: {\n    DelModal,\n  },\n  watch: {\n    checkedItems() {\n      if (this.checkedItems.length === this.carts.length) {\n        this.checkedAll = true;\n      } else {\n        this.checkedAll = false;\n      }\n    },\n  },\n  computed: {\n    totalAmount() {\n      let sum = 0;\n      let matchItem = [];\n      this.checkedItems.forEach((item) => {\n        let filterItem = this.carts.filter((cart) => cart.id == item);\n        let pushItem = filterItem[0];\n        matchItem.push(pushItem);\n        sum += pushItem.total;\n      });\n      console.log('matchItem', matchItem);\n      return sum;\n    },\n  },\n  methods: {\n    itemSwipe() {\n      let expansion = null;\n      const itemBox = document.querySelectorAll('.cart-list .item_box');\n      // console.log('box', itemBox);\n      for (let i = 0; i < itemBox.length; i++) {\n        let x, y, X, Y, swipeX, swipeY;\n        itemBox[i].addEventListener('touchstart', function (event) {\n          x = event.changedTouches[0].pageX;\n          y = event.changedTouches[0].pageY;\n          swipeX = true;\n          swipeY = true;\n          if (expansion) {\n            // 判斷是否展開\n            expansion.classList.remove('swipeleft');\n          }\n        });\n\n        itemBox[i].addEventListener('touchmove', function (event) {\n          X = event.changedTouches[0].pageX;\n          Y = event.changedTouches[0].pageY;\n          // 左右滑動\n          if (swipeX && Math.abs(X - x) - Math.abs(Y - y) > 0) {\n            // 阻止事件冒泡\n            event.stopPropagation();\n            //右滑\n            if (X - x > 10) {\n              event.preventDefault();\n              // 右滑收起\n              // console.dir(this);\n              this.classList.remove('swipeleft');\n            }\n            // 左滑\n            if (x - X > 10) {\n              event.preventDefault();\n              this.classList.add('swipeleft');\n              // 左滑展開\n              expansion = this;\n            }\n            swipeY = false;\n          }\n          // 上下滑動\n          if (swipeY && Math.abs(X - x) - Math.abs(Y - y) < 0) {\n            swipeX = false;\n          }\n        });\n      }\n    },\n    getCarts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.unCheckItems = [];\n      this.$http.get(url).then((res) => {\n        this.carts = res.data.data.carts;\n        this.carts.forEach((item) => this.unCheckItems.push(item.id));\n        console.log('cart', this.carts, 'uncheck', this.unCheckItems);\n        if (window.screen.width < 992) {\n          this.$nextTick(() => {\n            this.itemSwipe();\n          });\n        }\n        this.$emitter.emit('cartsUpdate', {});\n      });\n    },\n    updateCart(cart, changeQty) {\n      console.log('change Qty');\n      // this.isLoading = true;\n      this.status.loadingItem = cart.id;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${cart.id}`;\n      let newQty;\n      if (changeQty) {\n        newQty = cart.qty + changeQty;\n      } else {\n        newQty = cart.qty;\n      }\n      if (newQty <= 0) {\n        this.openDelModal(cart);\n        this.status.loadingItem = '';\n        return;\n      }\n\n      const newCart = {\n        product_id: cart.product_id,\n        qty: newQty,\n      };\n      this.$http.put(url, { data: newCart }).then((res) => {\n        // this.isLoading = false;\n        console.log(res);\n        this.getCarts();\n        this.status.loadingItem = '';\n        // this.$httpMessageState(res, '更新購物車');\n      });\n    },\n    openDelModal(item) {\n      this.tempCart = { ...item };\n      const delComponent = this.$refs.delModal;\n      delComponent.showModal();\n    },\n\n    deleteCart(id) {\n      const delComponent = this.$refs.delModal;\n\n      // 先從total移除\n      const index = this.checkedItems.indexOf(id);\n      if (index != -1) {\n        this.checkedItems.splice(index, 1);\n      }\n\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n      this.$http.delete(api).then((res) => {\n        console.log(res);\n        delComponent.hideModal();\n        this.getCarts();\n      });\n    },\n    selectAll() {\n      if (this.checkedAll) {\n        this.checkedItems = [];\n      } else {\n        this.carts.forEach((item) => {\n          if (this.checkedItems.indexOf(item.id) == -1) {\n            this.checkedItems.push(item.id);\n          }\n        });\n      }\n    },\n    toOrder() {\n      let resultItem = this.unCheckItems.filter((item) => {\n        return this.checkedItems.indexOf(item) === -1;\n      });\n      console.log('result', resultItem);\n      resultItem.forEach((id) => {\n        let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\n        this.$http.delete(api).then((res) => {\n          console.log(res);\n          this.$emitter.emit('cartsUpdate', {});\n        });\n      });\n\n      this.$router.push('/order');\n    },\n  },\n  created() {\n    this.getCarts();\n  },\n  mounted() {},\n};\n</script>\n","<template>\n  <div class=\"modal fade\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-body\">\n          <p>\n            是否從購物車移除\n            <span class=\"fw-bold text-danger\">{{ itemTitle }}</span> ?\n            <br />\n            (移除後將無法恢復)\n          </p>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button \"\n            class=\"btn esc-btn col-5 text-center\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button \"\n            class=\"btn del-btn col-5 text-center\"\n            @click=\"$emit('delete-item', itemId)\"\n          >\n            移除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n.modal-footer {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  button {\n    display: flex;\n    justify-content: center;\n  }\n}\n.esc-btn {\n  background-color: gray;\n  color: white;\n}\n.del-btn {\n  background-color: #f8a43e;\n  color: white;\n}\n</style>\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    itemTitle: {\n      type: String,\n      default() {\n        return {};\n      },\n    },\n    itemId: {\n      type: String,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./DelModalFore.vue?vue&type=template&id=2e67c37e&scoped=true\"\nimport script from \"./DelModalFore.vue?vue&type=script&lang=js\"\nexport * from \"./DelModalFore.vue?vue&type=script&lang=js\"\n\nimport \"./DelModalFore.vue?vue&type=style&index=0&id=2e67c37e&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Users\\\\Yoruru\\\\Desktop\\\\Coding\\\\VueFinalHomework\\\\wakuwaku\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e67c37e\"]])\n\nexport default __exports__","import { render } from \"./UserCart.vue?vue&type=template&id=b6351bd0&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=b6351bd0&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Users\\\\Yoruru\\\\Desktop\\\\Coding\\\\VueFinalHomework\\\\wakuwaku\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b6351bd0\"]])\n\nexport default __exports__"],"names":["methods","showModal","this","modal","show","hideModal","hide","mounted","Modal","$refs","class","_createElementVNode","_hoisted_20","_hoisted_24","style","for","_hoisted_1","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","$data","cart","key","id","_hoisted_7","_hoisted_8","_hoisted_9","type","value","_hoisted_11","src","product","images","alt","_hoisted_13","_hoisted_14","title","_hoisted_15","_hoisted_16","total","origin_price","price","_hoisted_17","qty","_hoisted_18","onClick","$options","disabled","loadingItem","min","onChange","_hoisted_26","_createVNode","_component_router_link","to","length","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_34","_hoisted_35","_hoisted_36","name","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_41","_component_DelModal","ref","onDeleteItem","tabindex","_hoisted_4","_hoisted_6","$props","_hoisted_10","_ctx","props","itemTitle","String","default","itemId","data","mixins","modalMixin","__exports__","carts","tempCart","status","checkedItems","unCheckItems","checkedAll","coupon_code","isCoupon","components","DelModal","watch","computed","totalAmount","sum","matchItem","forEach","item","filterItem","filter","pushItem","push","console","log","itemSwipe","expansion","itemBox","document","querySelectorAll","i","x","y","X","Y","swipeX","swipeY","addEventListener","event","changedTouches","pageX","pageY","classList","remove","Math","abs","stopPropagation","preventDefault","add","getCarts","url","$http","get","then","res","window","screen","width","$nextTick","$emitter","emit","updateCart","changeQty","newQty","openDelModal","newCart","product_id","put","delComponent","delModal","deleteCart","index","indexOf","splice","api","delete","selectAll","toOrder","resultItem","$router","created","render"],"sourceRoot":""}